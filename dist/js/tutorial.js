var tutorialData=[],startTutorial={init:function(){if(demoLanguage)try{$.getJSON("./static/data/tutorial"+demoLanguage+".json",function(t){tutorialData=t,viewTutorial.init()})}catch(t){console.log("no tutorial"),console.log(t)}else console.log("No Demo Language Loaded for Tutorial")}};octopusTutorial={getCurrentStepInstructions:function(){return tutorialData.steps[tutorialData.currentStep]},getAllStepData:function(){return tutorialData.steps},getCurrentStepIndex:function(){return tutorialData.currentStep},nextStep:function(){tutorialData.currentStep++},resetSteps:function(){tutorialData.currentStep=0},disableTutorial:function(){tutorialData.tutorialOn=!1},checkTutorialOn:function(){return tutorialData.tutorialOn}},viewTutorial={init:function(){this.taskList=$(".combinedTaskList"),this.sceneWrapper=$(".sceneWrapper"),this.respondButton=$(".respondButton"),this.navbarTop=$(".navbarTop"),this.tutorialWindow=$(".tutorialWindow"),this.nonTutorialUI=[this.taskList,this.sceneWrapper,this.navbarTop,this.taskList.children(".completedTaskList")]},renderTitleText:function(){this.tutorialWindow.children("h3").html(octopusTutorial.getCurrentStepInstructions().title),this.tutorialWindow.children("p").html(octopusTutorial.getCurrentStepInstructions().text)},resetTutorialScene:function(){that=this,this.nonTutorialUI.forEach(function(t){t.removeClass("faded"),t.removeClass("borderHighlight")}),that.tutorialWindow.children(".btn-confirm").unbind(),this.sceneWrapper.children().removeClass("faded").removeClass("borderHighlight"),that.navbarTop.children(".charList").children().removeClass("borderHighlight")},render:function(){if(octopusTutorial.checkTutorialOn){this.resetTutorialScene();var t=this;step=octopusTutorial.getCurrentStepInstructions(),this.nonTutorialUI.forEach(function(t){t.addClass("faded")}),this.tutorialWindow.removeClass("hidden");var e=octopusTutorial.getCurrentStepInstructions();this.tutorialWindow.css("left",e.tutorialWindowPosition.x),this.tutorialWindow.css("top",e.tutorialWindowPosition.y),this.renderTitleText(),step.highlightUI.forEach(function(e){switch(e){case"taskList":t.taskList.removeClass("faded").addClass("borderHighlight");break;case"completedTaskList":t.taskList.children(".completedTaskList").removeClass("faded").addClass("borderHighlight");break;case"respondButton":t.sceneWrapper.removeClass("faded"),t.sceneWrapper.children().addClass("faded"),t.sceneWrapper.children(".respondButton").removeClass("faded").addClass("borderHighlight");break;case"characterTextResponse":t.sceneWrapper.removeClass("faded"),t.sceneWrapper.children().addClass("faded"),t.sceneWrapper.children(".characterTextResponse").removeClass("faded");break;case"navbarTop":t.navbarTop.removeClass("faded"),t.navbarTop.children(".charList").children().addClass("borderHighlight")}}),this.tutorialWindow.children(".btn-confirm").click(function(){console.log(octopusTutorial.getCurrentStepIndex()),console.log(octopusTutorial.getAllStepData().length-1),octopusTutorial.getCurrentStepIndex()<octopusTutorial.getAllStepData().length-1?(octopusTutorial.nextStep(),t.render(),console.log("Next Step")):(octopusTutorial.disableTutorial(),octopusTutorial.resetSteps(),console.log("Tutorial over"),t.resetTutorialScene(),t.tutorialWindow.addClass("hidden"))}),this.tutorialWindow.children(".btn-endTutorial").click(function(){t.resetTutorialScene(),t.tutorialWindow.hide()})}}};